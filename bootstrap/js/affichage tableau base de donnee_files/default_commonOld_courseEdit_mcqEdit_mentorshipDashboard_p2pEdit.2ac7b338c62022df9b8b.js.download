(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{2010:function(e,t,n){"use strict";e.exports={NOT_A_TINYMCE_ELEMENT_EXCEPTION:"Not a Tinymce element"}},2011:function(e,t,n){"use strict";e.exports=function(e){var t,o=n(664),i=n(2012),a=tinymce.util.VK,r=e.$;function l(t){var n=[];t?(Array.isArray(t)||(t=[t]),n=t.filter(function(t){return!e.dom.is(t,"code")&&!e.dom.is(t,"samp")})):n=e.dom.select("body > *:not(pre):not(code):not(.smilies):not(.ace)"),n.forEach(function(e){o.smilize(e)}),r(".js-smiley").attr("data-mce-object","true")}e.on("keyup",function(n){var o,i,r,c,d=n.keyCode;-1!==[39,37,38,40,13,186,32,53,189,80,79,68,188,219,189,190].indexOf(d)&&(c=(i=e.selection.getNode()).innerHTML.match(/..$/))&&(r=c[0],d===a.ENTER&&(i=i.previousSibling),219===d&&"^^"!==r||(clearTimeout(t),t=setTimeout(function(){o=e.selection.getBookmark(),l(i),e.selection.moveToBookmark(o)},50)))}),e.on("init",function(){l()}),e.on("getcontent",function(e){e.sanitized&&(e.content=i.clean(e.content))}),e.on("setcontent",function(){l()}),e.on("ObjectSelected",function(e){o.isSmiley(e.target)&&e.preventDefault()}),e.addButton("claireEmoticons",{type:"panelbutton",popoverAlign:"bc-tl",icon:"emoticons",panel:{autohide:!0,html:function(){var e,t=o.getList();return e='<table role="presentation" class="mce-grid mce-plugin-claireEmoticons">',e+="<tr>",t.forEach(function(t,n){e+="<td>",e+='  <a href="#" data-mce-value="'+t.value+'" data-mce-url="'+t.imagePath+'" tabindex="-1" >',e+='      <img title="'+t.value+'" src="'+t.imagePath+'"  />',e+="  </a>",e+="</td>",n>0&&(n+1)%5==0&&(e+="</tr><tr>")}),e+="</tr>",e+="</table>"},onclick:function(t){var n=e.dom.getParent(t.target,"a");n&&(e.insertContent(n.getAttribute("data-mce-value")),this.hide())}},tooltip:"Smileys"})}},2012:function(e,t,n){"use strict";var o,i=n(2),a=(o=i)&&o.__esModule?o:{default:o};var r=n(664),l={};l.clean=function(e){var t=(0,a.default)("<div>").html(e);return function(e){r.unsmilize(e)}(t),t.html()},e.exports=l},2013:function(e,t,n){"use strict";var o,i=n(18),a=n(848),r=n(5),l=(o=r)&&o.__esModule?o:{default:o};var c=n(361);e.exports=function(e){function t(e,t){return t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})}function n(e,t){var n=null;return function e(o){o.forEach(function(o){o.name()===t&&(n=o);var i=o.items&&o.items();i&&e(i.toArray())})}(e.items().toArray()),n}function o(t){var n=e.dom.getParent(t,"figure");e.dom.remove(t),e.dom.remove(n)}function r(t){var n;t.alt||(t.alt=e.settings.claireImage_empty_alt||""),n=t.caption&&e.settings.claireImage_use_figure?'<figure><img alt="'+t.alt+'" src="'+t.src+'" />    <figcaption>'+t.caption+"</figcaption></figure>":'<img alt="'+t.alt+'" src="'+t.src+'" />',e.execCommand("mceInsertContent",!1,n)}e.addButton("claireImage",{icon:"image",tooltip:"Insert/edit image",onclick:function(){var d,s,u=e.dom,f=e.selection.getNode(),m=u.getParent(f,"figure"),g=u.select("figcaption",m);g=0===g.length?null:g[0],"IMG"!==f.nodeName||f.getAttribute("data-mce-object")?f=null:(s={src:u.getAttrib(f,"src"),alt:u.getAttrib(f,"alt")},m&&g&&(s.caption=g.innerHTML));var v=[{name:"upload",type:"container",label:"Upload an image",html:'<div class="mce-btn mce-primary upload"><span class="js-upload">'+tinymce.i18n.translate("Choose")+'</span></div><div class="mce-throbber upload"></div>',onPostRender:function(){var t=this.getEl(),o=e.dom.select(".mce-btn",t)[0],r=e.dom.select(".js-upload",t)[0];c.create({fileSizeWarning:204800,onFileSizeWarning:function(){return confirm((0,i.translate)("course_editor.wysiwyg.message.file_size_too_big_warning",{fileSize:(0,a.toHumanReadable)(204800)}))},startUpload:function(){var t=n(d,"upload").getEl();e.dom.toggleClass(t,"loading",!0),e.dom.toggleClass(o,"mce-disabled",!0)},uploaded:function(t,i){var a=n(d,"src").getEl(),r=e.dom.select("input",a)[0];e.dom.toggleClass(n(d,"upload").getEl(),"loading",!1),e.dom.toggleClass(o,"mce-disabled",!1),i.url?r.value=i.url:alert(tinymce.i18n.translate("Error during image upload"))}},r)}},{name:"src",type:"filepicker",id:"test",filetype:"image",label:(0,i.translate)("course_editor.wysiwyg.insert_image_dialog.source"),autofocus:!0},{name:"caption",type:"textbox",label:(0,i.translate)("course_editor.wysiwyg.insert_image_dialog.image_caption"),placeholder:(0,i.translate)("course_editor.wysiwyg.insert_image_dialog.image_caption_placeholder")},{name:"alt",type:"textbox",label:(0,i.translate)("course_editor.wysiwyg.insert_image_dialog.image_description"),placeholder:(0,i.translate)("course_editor.wysiwyg.insert_image_dialog.image_description_placeholder"),multiline:!0,minHeight:90}];d=e.windowManager.open({title:"Insert/edit image",minWidth:600,data:s,body:v,onSubmit:function(){var n=d.toJSON(),a=n.caption;"https:"===n.src.split("/")[0]?(n={src:n.src,alt:t(n.alt||n.caption).trim(),caption:t(n.caption,"<a><strong><em>").trim()},e.undoManager.transact(function(){f?n.src?(a?m?(g||(g=u.create("figcaption"),m.appendChild(g)),g.innerHTML=n.caption):(r(n),o(f),f=u.select("img",e.selection.getNode())[0]||f):u.remove(g),f.src=n.src,f.alt=n.alt,f.setAttribute("data-mce-src",n.src)):o(f):r(n)}),setTimeout(function(){e.execCommand("mceAutoResize",{})},1e3)):l.default.window.alert((0,i.translate)("course_editor.wysiwyg.insert_image_window.invalid_url_protocol"))}})},stateSelector:"img:not([data-mce-object]), figcaption, figure"}),e.on("keydown",function(t){var n=e.selection.getNode(),i=e.dom.getParent(n,"figcaption");13===t.keyCode&&i&&t.preventDefault(),8===t.keyCode&&-1!==["IMG","FIGURE"].indexOf(n.tagName)&&(o(n),t.preventDefault())}),e.on("keyup",function(t){var n=e.selection.getNode(),o=e.dom.getParent(n,"figcaption"),i=o&&e.dom.select("br",o).length>0;8===t.keyCode&&i&&e.dom.remove(o)}),e.on("ObjectSelected",function(t){e.settings.image_noresizing&&t.preventDefault()})}},2015:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2016),a=(o=i)&&o.__esModule?o:{default:o};t.default=function(e){var t=function(e){var t=e.tagName.toLowerCase();return-1===["aside","div","li"].indexOf(t)};function n(e,t,n){for(;e.hasChildNodes();)t.appendChild(e.firstChild);n&&e.parentNode&&e.parentNode.removeChild(e)}var o=function(o){var i=e.selection.getSelectedBlocks().filter(t),r="question"===o?"Div":"Aside",l=[],c=null;i.forEach(function(t){var n=function(t){var n=e.dom.getParent(t,"[data-claire-semantic]");return n&&n!==t?n.getAttribute("data-claire-semantic"):null}(t);null===c&&(c=n!==o),n&&function(t){var n=t.parentNode,o="div"===n.tagName.toLowerCase()?"claire-semanticBlockDiv":"claire-semanticBlockAside";e.formatter.remove(o,null,n)}(t),c&&(e.formatter.apply("claire-semanticBlock"+r,{type:o},t),l.push(t))});var d,s=(d=l,(0,a.default)(d.map(function(t){return e.dom.getParent(t,"[data-claire-semantic]")}))),u=s.length;if(c&&u>1)for(var f=s[0],m=1;m<u;m+=1)n(s[m],f,!0);var g=e.dom.createRng();g.setStart(i[0],0),g.setEnd(i[i.length-1],1),e.selection.setRng(g),e.focus(),e.nodeChanged(),e.undoManager.add()};e.on("init",function(){e.formatter.register("claire-kbd",{inline:"kbd",remove:"all"}),e.formatter.register("claire-semanticBlockAside",{block:"aside",remove:"all",attributes:{"data-claire-semantic":"%type"},wrapper:!0,merge_siblings:!1}),e.formatter.register("claire-semanticBlockDiv",{block:"div",remove:"all",attributes:{"data-claire-semantic":"%type"},wrapper:!0,merge_siblings:!1})}),e.addButton("claireErrorBlock",{icon:"error",tooltip:"Error",onclick:function(){o("error")},stateSelector:'[data-claire-semantic="error"]'}),e.addButton("claireInfoBlock",{icon:"information",tooltip:"Information",onclick:function(){o("information")},stateSelector:'[data-claire-semantic="information"]'}),e.addButton("claireQuestionBlock",{icon:"question",tooltip:"Question",onclick:function(){o("question")},stateSelector:'[data-claire-semantic="question"]'}),e.addButton("claireWarningBlock",{icon:"warning2",tooltip:"Warning",onclick:function(){o("warning")},stateSelector:'[data-claire-semantic="warning"]'}),e.addButton("claireKeyBlock",{icon:"key",tooltip:"Key",stateSelector:"kbd",onclick:function(){e.formatter.toggle("claire-kbd"),e.focus();var t=e.dom.getParent(e.selection.getNode(),"span");if(t){var n=t.nextSibling;null!==n&&n.nodeType===Node.TEXT_NODE&&(n.nodeValue=" "+n.nodeValue)}e.undoManager.add()}}),e.addShortcut("ctrl+alt+i","",function(){o("information")}),e.addShortcut("ctrl+alt+e","",function(){o("error")}),e.addShortcut("ctrl+alt+q","",function(){o("question")}),e.addShortcut("ctrl+alt+w","",function(){o("warning")})}},2016:function(e,t,n){var o=n(2017);e.exports=function(e){return e&&e.length?o(e):[]}},2017:function(e,t,n){var o=n(1327),i=n(1328),a=n(2022),r=n(1330),l=n(2023),c=n(1033),d=200;e.exports=function(e,t,n){var s=-1,u=i,f=e.length,m=!0,g=[],v=g;if(n)m=!1,u=a;else if(f>=d){var h=t?null:l(e);if(h)return c(h);m=!1,u=r,v=new o}else v=t?[]:g;e:for(;++s<f;){var p=e[s],_=t?t(p):p;if(p=n||0!==p?p:0,m&&_==_){for(var y=v.length;y--;)if(v[y]===_)continue e;t&&v.push(_),g.push(p)}else u(v,_,n)||(v!==g&&v.push(_),g.push(p))}return g}},2022:function(e,t){e.exports=function(e,t,n){for(var o=-1,i=null==e?0:e.length;++o<i;)if(n(t,e[o]))return!0;return!1}},2023:function(e,t,n){var o=n(1331),i=n(1332),a=n(1033),r=o&&1/a(new o([,-0]))[1]==1/0?function(e){return new o(e)}:i;e.exports=r},2024:function(e,t,n){"use strict";e.exports=function(e){var t=n(18).default,o=n(239),i=n(335),a=n(2087);function r(){e.dom.select("video").forEach(function(e){o.videoToIframe(e)})}e.addButton("claireVideo",{icon:"media",onclick:function(){var n,o;o=[{name:"url",type:"textbox",size:60,label:t._("course_editor.wysiwyg.insert_video_window.text_label")}],n=e.windowManager.open({title:t._("course_editor.wysiwyg.insert_video_window.title"),body:o,onSubmit:function(){var t=n.toJSON().url;i.isValidVideoUrl(t)?e.undoManager.transact(function(){var n=e.selection.getNode(),o=e.dom.create("span",{id:"_temp_"}),i=e.dom.create("video",{src:t});e.selection.setNode(o),e.dom.split(n,e.dom.select("#_temp_")[0]),e.dom.replace(i,"_temp_"),r(),e.nodeChanged()}):alert("Not a valid video URL")}})},tooltip:"Insert Video"}),e.on("init",function(){setTimeout(function(){r()},500)}),e.on("getcontent",function(e){e.sanitized&&(e.content=a.clean(e.content))}),e.on("setcontent",function(e){setTimeout(function(){r()},500)})}},2087:function(e,t,n){"use strict";var o,i=n(2),a=(o=i)&&o.__esModule?o:{default:o};var r=n(239),l={};l.clean=function(e){var t=(0,a.default)("<div>").html(e);return function(e){e.find("iframe.video").each(function(e,t){r.iframeToVideo(t).insertAfter(t),(0,a.default)(t).remove()})}(t),function(e){e.find("video").each(function(e,t){var n=(0,a.default)(t),o=n.parent();o.is("p")&&(n.insertAfter(o),""===o.html().trim()&&o.remove())})}(t),t.html()},e.exports=l},2088:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=g(n(13)),i=g(n(1358)),a=g(n(737)),r=g(n(618)),l=g(n(738)),c=g(n(667)),d=g(n(2093)),s=n(344),u=g(s),f=g(n(2094)),m=g(n(18));function g(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=function(e){var t=this,n=a.default.create(r.default.HIGHLITER_ACE),g=new l.default(n),h=e.settings,p=n.availablelanguages,_=e.$,y=new f.default(e,p),E=!1,C=o.default.memoize(function(e){return d.default.clean(e)});function b(t){return!h.claireCode_simple_output&&t&&e.formatter.match("claire-blockCodePre")&&!e.dom.is(t,"[data-claire-semantic=console]")}function N(t,n){var o=e.dom.getParent(t,"pre"),i=e.dom.getAttrib(t,"data-claire-semantic");i&&"console"!==i&&o&&(e.selection.collapse(),g.colorizeElement(t,n))}function A(){var t=[].concat(v(e.selection.getSelectedBlocks())),n=null,o=null;t.forEach(function(t){if(null===n&&(n=!e.formatter.match("claire-blockConsole")),!n)return e.formatter.remove("claire-blockCodePre"),void e.formatter.remove("claire-blockConsole");var i;[].concat(v((i=t).querySelectorAll("[data-mce-bogus]"))).forEach(function(e){i.removeChild(e)}),t.textContent.trim().length||(t.innerHTML=m.default._("course_editor.wysiwyg.message.consoleblock_initial_text"));var a=e.dom.create("pre");a.innerHTML=t.innerHTML,t.parentNode.insertBefore(a,t),t.parentNode.removeChild(t),e.formatter.apply("claire-blockConsole",{},a),o=e.dom.select("samp",a)[0]}),e.focus(),o&&e.selection.select(o),e.nodeChanged(),e.undoManager.add()}function M(t,n,o){var a=void 0,r=void 0;return!!n&&(h.claireCode_simple_output?void function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments[2],a=i.default.encode(n);if(o)e.dom.setAttrib(o,"data-claire-semantic",t),o.innerHTML=a;else{var r='<pre><code data-claire-semantic="'+t+'">'+a+"</code></pre><br />";e.execCommand("mceInsertContent",!1,r)}}(t,n,o):(o?(r=n||" ",e.dom.setAttrib(o,"data-claire-semantic",t),g.updateColorizedElement(o,{source:r,language:t})):(a='<p id="__tmp__"></p>',e.execCommand("mceInsertContent",!1,a),(o=e.dom.get("__tmp__")).innerHTML=i.default.encode(n),e.selection.select(o),e.formatter.apply("claire-inlineCode",{type:t}),e.selection.select(o),e.formatter.apply("claire-blockCodePre"),o=e.dom.select("code",e.dom.get("__tmp__"))[0],e.dom.get("__tmp__").removeAttribute("id"),e.dom.get("___tmp___")&&(e.selection.select(e.dom.get("___tmp___")),e.selection.setContent("")),e.dom.setAttrib(o,"data-claire-semantic",t),N(o)),o))}function k(){var t=e.selection.getNode();u.default.isCodeNode(t)||(t=void 0);var n=t?t.getAttribute("claire-inlineCode"):null;n=n||"text",e.formatter.toggle("claire-inlineCode",{type:n},t),e.focus();var o=e.selection.getSel().anchorNode.parentNode;if(u.default.isCodeNode(o)){o.parentNode.normalize();var i=o.previousSibling,a=o.nextSibling;i&&(i.nodeValue=u.default.trimRightNode(i)+" "+s.UNBREAKABLE_SPACE),a&&(a.nodeValue=s.UNBREAKABLE_SPACE+" "+u.default.trimLeftNode(a))}e.undoManager.add()}function w(){E?tinymce.activeEditor.windowManager.alert(m.default._("course_editor.wysiwyg.message.cant_edit_code_block_while_saving")):y.show(T)}function T(t,n,o){if(o&&""===n.trim())return _(e.dom.getParent(o,"pre")).remove(),void e.execCommand("mceCleanup");var i=M(t,n,o);i&&c.default.moveCursor(e.dom.getParent(i,"pre"))}e.on("init",function(){e.formatter.register("claire-blockCode",{block:"code",attributes:{"data-claire-semantic":"%type"},remove:"all"}),e.formatter.register("claire-inlineCode",{inline:"code",remove:"all",attributes:{"data-claire-semantic":"%type"}}),e.formatter.register("claire-blockConsole",{block:"samp",remove:"all",wrapper:!0,merge_siblings:!1}),e.formatter.register("claire-blockCodePre",{block:"pre",remove:"all"})}),e.on("onBeforeSave",function(){E=!0}),e.on("onAfterSave",function(){E=!1}),e.on("blur",function(){u.default.unselectCodeNode(e)}),e.on("click",function(t){b(e.dom.getParent(t.target,"code"))&&e.addContextToolbar("pre code","codeEditTooltip codedelete")}),e.on("getcontent",function(e){e.sanitized&&(e.content=C(e.content))}),e.on("setcontent",function(){var t=e.dom.select("code:not([data-claire-semantic=console])");tinymce.each(t,function(t){e.dom.getParent(t,"pre")&&N(t)})}),e.on("keydown",function(t){var n=t.keyCode,o=e.selection.getNode(),i=e.dom.getParent(e.selection.getNode(),"code");if(13===n&&u.default.isInlinedCodeNode(e,o))return!1;b(i)&&t.preventDefault()}),e.addButton("claireCodeBlock",{icon:"code",onclick:w,stateSelector:"pre>code",tooltip:"Code"}),e.addButton("claireCodeInlineBlock",{icon:"codesample",onclick:k,stateSelector:"code:not(pre>code)",tooltip:"Inline Code"}),e.addButton("claireConsoleBlock",{icon:"codeConsoleblock",tooltip:"Console",stateSelector:"samp",onclick:A}),e.addCommand("claireInsertConsoleBlock",A),e.addCommand("claireInsertCodeBlock",function(e,n){M.apply(t,n)}),e.addButton("codedelete",{icon:"tabledelete",title:m.default._("global.word.delete"),onclick:function(){var t=e.selection.getNode(),n=e.dom.getParent(t,"pre");_(n).remove(),e.execCommand("mceCleanup")}}),e.addButton("codeEditTooltip",{icon:"code",title:m.default._("global.word.edit"),onclick:w}),e.addShortcut("meta+alt+c",m.default._("course_editor.wysiwyg.shortcuts.insert_code_block"),w),e.addShortcut("alt+c",m.default._("course_editor.wysiwyg.shortcuts.insert_code_inline"),k)}},2093:function(e,t,n){"use strict";var o,i=n(2),a=(o=i)&&o.__esModule?o:{default:o};var r=n(737),l=n(618),c=n(738),d=r.create(l.HIGHLITER_ACE),s={};s.clean=function(e){var t=(0,a.default)("<div>").html(e);return function(e){var t=new c(d),n=e.find("code").filter(function(e,t){return(0,a.default)(t).parent().is("pre")});n.length>0&&t.unColorizeElement(n)}(t),t.html()},e.exports=s},2094:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=m(n(13)),a=m(n(737)),r=m(n(618)),l=m(n(738)),c=m(n(352)),d=m(n(667)),s=m(n(344)),u=m(n(18)),f=m(n(330));function m(e){return e&&e.__esModule?e:{default:e}}var g=a.default.create(r.default.HIGHLITER_ACE),v=new l.default(g),h=1e3,p=void 0,_=void 0,y=void 0,E=void 0,C=void 0,b=void 0,N="";function A(e){clearTimeout(b),b=setTimeout(function(){N=""}.bind(this),h),e!==f.default.BACKSPACE_DELETE||i.default.isEmpty(N)?e>=f.default.A&&e<=f.default.Z&&(N+=String.fromCharCode(e)):N=N.substring(0,N.length-1)}function M(e,t){var n=null;e.each(function(e){n||e.settings.text.substring(0,t.length).toUpperCase()!==t||(n=e)}),n&&n.focus()}function k(){return C!==p||E.getContent()!==y}var w=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_=n,this.editor=t}return o(e,[{key:"show",value:function(e){var t,n,o,a=this,r=this.editor.selection.isCollapsed(),l=this.editor.selection.getNode(),m=this.editor.dom.getParent(l,"code");y="",p="",C=null,tinymce.isArray(m)&&(m=m.length>0?m[0]:null),s.default.unselectCodeNode(this.editor),m?(this.editor.selection.collapse(!1),y=v.getCodeFromElement(m).source,p=g.getValideLanguage(this.editor.dom.getAttrib(m,"data-claire-semantic")),s.default.selectCodeNode(this.editor,m)):(r||(y=this.editor.selection.getContent({format:"text"})),p=C||"text"),o=_.map(function(e){return{text:e,value:e,selected:p===e}}),(n=[{name:"list",label:"Langages",type:"listBox",value:p,values:o,onselect:function(e){var t=e.control.value();E.setLanguage(g.getValideSyntaxer(t))},onshow:function(){this.focus()},onkeydown:function(e){e.keyCode===f.default.BACKSPACE_DELETE&&e.preventDefault(),e.keyCode!==f.default.UP_ARROW&&e.keyCode!==f.default.DOWN_ARROW&&(e.keyCode!==f.default.ENTER?this.menu&&(A(e.keyCode),M(this.menu.items(),N)):function(e,t){if(i.default.has(t,"target")){var n=t.target.innerText.replace(/ /g,"");M(e.menu.items(),n)}}(this,e))}}]).push({type:"container",minWidth:570,minHeight:450,items:{type:"textbox",multiline:!0,onPostRender:function(){E=c.default.create({inline:!1,initialContent:y,language:g.getValideSyntaxer(p),onEsc:function(){t.close()},onSubmit:function(){t.submit()}},this.getEl())}}}),t=this.editor.windowManager.open({title:u.default._("course_editor.wysiwyg.word.code_block_title"),body:n,onClose:function(){E.destroy(),!k()&&m&&d.default.moveCursor(a.editor.dom.getParent(m,"pre"))},onSubmit:function(t){var n=E.getContent();p=t.data.list||_[0],k()&&a.editor.fire("dirty"),C=p,e(p,n,m)}})}}]),e}();t.default=w},2095:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1041);t.default=function(e){e.on("nodechange",function(){e.dom.select("a").forEach(function(e){(0,o.isCustomContentLink)(e)&&!e.classList.contains("custom-link")&&e.classList.add("custom-link")})})}},3115:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1462),r=(o=a)&&o.__esModule?o:{default:o};var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.overlay=null,this.connectionService=new r.default,this.connectionService.onConnectionStateChange(this.onConnectionStateChange.bind(this))}return i(e,[{key:"onConnectionStateChange",value:function(e){switch(e){case r.default.CONNECTION_SERVICE_STATE.ONLINE:this.editor.fire("online");break;case r.default.CONNECTION_SERVICE_STATE.OFFLINE:this.editor.fire("offline")}}}]),e}();t.default=l},3116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=s(n(13)),a=s(n(3117)),r=s(n(3118)),l=s(n(667)),c=s(n(952)),d=s(n(18));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.elementsMath=c.default.elementsMath(c.default.constants.MATH_RENDERER_MATHJAX),this.elementsMathBasic=c.default.elementsMath(c.default.constants.MATH_RENDERER_BASIC),this.$domQuery=t.$,this.VK=tinymce.util.VK,this.onDialogSubmit=this.onDialogSubmit.bind(this),this.addMathButton(),this.editor.on("init",function(){n.dialog=new a.default(n.editor,n.elementsMath),n.initMath(),n.initEvents()})}return o(e,[{key:"getCorrectMathElementRendererForWysiwyg",value:function(){return/chrome/i.test(navigator.userAgent)?this.elementsMath:this.elementsMathBasic}},{key:"removeMathElement",value:function(e){var t=this.editor.dom.getParents(e,"div")[1]||e;this.editor.dom.remove(t)}},{key:"insertMathElement",value:function(e){var t=this,n=this.getCorrectMathElementRendererForWysiwyg(),o=e.inline?"span":"p";this.editor.undoManager.add(),this.editor.undoManager.transact(function(){if(t.editor.selection.isCollapsed())try{var i=n.getMathElement(t.editor.selection.getNode());t.removeMathElement(i)}catch(e){}var a=" <"+o+' id="__tmp__">&nbsp;</'+o+"> ";t.editor.execCommand("mceInsertContent",!1,a);var r=t.editor.dom.get("__tmp__");t.editor.execCommand("mceAddNonEditable",r),e.inline||(r.innerHTML=""),n.addMathToElement(r,e).done(function(o){var i=o[0];t.$domQuery(i).parent().removeAttr("id"),e.inline?(t.editor.dom.insertAfter(i,r),t.$domQuery(r).remove()):t.$domQuery(i).parent().prev().find(".js-math").each(function(e,t){n.updateElement(t)}),t.addBlockyblock(o.toArray()),t.selectBlockyBlock(i),l.default.moveCursor(i)})})}},{key:"onDialogSubmit",value:function(e){this.insertMathElement(e)}},{key:"getSanitizedContent",value:function(e){return r.default.clean(e)}},{key:"initMath",value:function(){var e=this,t=this.editor.dom.select("math");i.default.isEmpty(t)||this.getCorrectMathElementRendererForWysiwyg().mathElement(t).done(function(t){e.addBlockyblock(t.toArray())})}},{key:"addBlockyblock",value:function(e){this.editor.plugins.blockyBlock&&this.editor.plugins.blockyBlock.addBlockyBlock(e)}},{key:"selectBlockyBlock",value:function(e){this.editor.plugins.blockyBlock&&this.editor.plugins.blockyBlock.selectBlockyBlock(e)}},{key:"initEvents",value:function(){var e=this;this.editor.on("getcontent",function(t){t.sanitized&&(t.content=e.getSanitizedContent(t.content))});var t=null;this.editor.on("setcontent",function(){t||(t=window.setTimeout(function(){e.initMath(),t=null},10))}),this.editor.on("ObjectSelected",function(e){e.preventDefault()}),this.editor.on("keydown",function(t){var n=e.getCorrectMathElementRendererForWysiwyg(),o=t.keyCode===e.VK.ENTER;n.isMathElement(e.editor.selection.getNode())&&(t.preventDefault(),t.stopPropagation(),o&&e.dialog.open(e.onDialogSubmit))})}},{key:"addMathButton",value:function(){var e=this;this.editor.addButton("claireMath",{icon:"superscript",onclick:function(){e.dialog.open(e.onDialogSubmit)},tooltip:"Math",stateSelector:".math-formula"}),this.editor.addShortcut("meta+m",d.default._("course_editor.wysiwyg.shortcuts.insert_math"),function(){e.dialog.open(e.onDialogSubmit)})}}]),e}();t.default=u},3117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=l(n(18)),a=l(n(667)),r=l(n(352));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.elementsMath=n,this.dialog=null,this.$mathPreviewElement=null,this.codeEditorWidget=null}return o(e,[{key:"open",value:function(e){var t,n,o=this,a=this;try{t=this.elementsMath.getMathElement(this.editor.selection.getNode())}catch(e){}n=this._getMathFromTinymceContent(t),this.win=this.editor.windowManager.open({classes:"claire-editorpanel-math",title:i.default._("course_editor.wysiwyg.latex_editor_window.title"),body:this._getDialogBody(n),onPostRender:function(){a.dialog=this},onSubmit:function(){e(o.getMath())}})}},{key:"_getMathFromTinymceContent",value:function(e){var t={inline:!0,latex:"BODY"===this.editor.selection.getNode().tagName?"":this.editor.selection.getContent()};try{t=this.elementsMath.getMathFromElement(e)}catch(e){}return t}},{key:"getMath",value:function(){var e=a.default.getItemByName(this.dialog,"inline");return{latex:this.codeEditorWidget.getContent(),inline:e.checked()}}},{key:"_updatePreview",value:function(){this.$mathPreviewElement&&this.elementsMath.updateElement(this.$mathPreviewElement[0],this.getMath())}},{key:"_getDialogBody",value:function(e){var t=this.elementsMath,n=this;return[{name:"inline",label:i.default._("course_editor.wysiwyg.latex_editor_window.inline_mode_option"),type:"checkbox",checked:e.inline,onclick:function(){n._updatePreview()}},{type:"label",text:i.default._("course_editor.wysiwyg.latex_editor_window.text_area_label")},{type:"container",minHeight:150,items:{type:"textbox",multiline:!0,onPostRender:function(){n.codeEditorWidget=r.default.create({initialContent:e.latex,language:"latex",onChange:function(){n._updatePreview()},onEsc:function(){n.win.close()},onSubmit:function(){n.win.submit()},onReady:function(){setTimeout(function(){n.codeEditorWidget&&n.codeEditorWidget.focus()},150)}},this.getEl())}}},{type:"label",text:i.default._("course_editor.wysiwyg.latex_editor_window.preview_label")},{name:"container",maxWidth:450,minWidth:450,classes:"math-preview",minHeight:150,type:"container",onPostRender:function(){t.addMathToElement(this.getEl().firstChild,e).done(function(e){n.$mathPreviewElement=e})}}]}}]),e}();t.default=c},3118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(2)),i=a(n(952));function a(e){return e&&e.__esModule?e:{default:e}}var r=i.default.elementsMath(i.default.constants.MATH_RENDERER_MATHJAX);t.default={clean:function(e){var t=(0,o.default)("<div>").html(e);return function(e){var t=e.find(".js-math");r.unMathElement(t)}(t),t.html()}}},3124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(2)),i=l(n(13)),a=l(n(667)),r=l(n(18));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=!1;function n(){e.isDirty()&&(a.default.setAnchorCaret(),e.fire("claireSave")),e.setDirty(!1),e.nodeChanged(!1)}e.addCommand("claireSave",n),e.on("onBeforeSave",function(){t=!0}),e.on("savedSuccess",function(){t=!1,e.setDirty(!1),e.nodeChanged(),a.default.goToAnchorCaret()}),e.addButton("claireSave",{tooltip:r.default._("course_editor.wysiwyg.word.save"),disabled:!0,icon:"save",cmd:"claireSave",onPostRender:function(){var n=this;e.on("nodeChange dirty",function(){n.disabled(t||!e.isDirty())})}}),e.addShortcut("Meta+s","",n),e.on("init",function(){if(!e.settings.ajaxSave){var t=(0,o.default)(tinymce.DOM.getParent(e.id,"form"));i.default.isEmpty(t)||t.on("submit",function(){i.default.isNil(e.settings.onFormSubmit)||e.settings.onFormSubmit()})}})}},3125:function(e,t,n){"use strict";var o=function e(t){var o=n(18).default;function i(e){var t=document.createElement("div");return t.innerHTML=e,function(e){var t,n,o,i,a;for(i=0,a=(t=e.querySelectorAll("[data-mce-bogus]")).length;i<a;++i)(n=(o=t[i]).parentNode).removeChild(o),""===n.innerHTML.trim()&&n.parentNode.removeChild(n)}(t),function(e){var t,n,o;for(n=0,o=(t=e.querySelectorAll("[data-mce-selected]")).length;n<o;++n)t[n].removeAttribute("data-mce-selected")}(t),function(e){var t,n,o,i,a;for(o=0,i=(t=e.querySelectorAll("li > span:not(.js-math)")).length;o<i;++o)n=t[o],a=document.createTextNode(n.innerText||n.textContent),n.parentNode.insertBefore(a,n.nextSibling),n.parentNode.removeChild(n)}(t),function(e){var t,n,o,i;for(o=0,i=(t=e.querySelectorAll("pre")).length;o<i;++o)(n=t[o]).querySelectorAll("samp").length>1&&(n.innerHTML=n.innerHTML.replace(/[\s]/g,""),n.innerHTML=n.innerHTML.replace(/<\/samp><samp>/g,"\n"))}(t),t.innerHTML}t.on("getcontent",function(e){e.sanitized&&(e.content=i(e.content))}),t.on("nodechange",function(n){var i,a,r;i=n.element,a=i.id,r=i.getAttribute("data-claire-element-id"),!a&&r&&i.removeAttribute("data-claire-element-id"),function(n){var i;n.tagName.match(/^H\d/)&&(i=n.querySelectorAll("img")).length>0&&([].forEach.call(i,function(e){n.removeChild(e)}),t.windowManager.alert(o._(e.IMAGE_NOT_ALLOWED_HERE_WARNING)))}(n.element)}),t.on("change",function(){var e=t.getBody().childNodes,n=e[e.length-1];-1===["P","BR"].indexOf(n.tagName)&&t.dom.add(t.getBody(),"br",{"data-mce-bogus":"1"})}),t.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()})};o.IMAGE_NOT_ALLOWED_HERE_WARNING="course_editor.warning.image_not_allowed_here",e.exports=o},3126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(667),a=(o=i)&&o.__esModule?o:{default:o};t.default=function(e){var t=tinymce.dom.DomQuery,n=null,o=tinymce.util.VK;function i(e){var n=t(e).closest(".js-blockyBlock");return n.length>0?n[0]:null}function r(e){return!!i(e)}function l(){t(".blockyBlock.is-selected",e.getBody()).removeClass("is-selected"),n=null}function c(o){return o=i(o),l(),n=o,e.selection.setCursorLocation(o),e.selection.collapse(),t(o).addClass("is-selected")}function d(e){var o=t(e).parent(),i=o.is("div");t(e=i?o:e).remove(),n=null}return e.on("click",function(){var t,n,o;e.selection.isCollapsed()?t=r(t=e.selection.getNode())?t:null:(n=e.selection.getStart(),o=e.selection.getEnd(),t=i(n)||i(o)),t?c(t):l()}),e.on("keydown",function(t){var s,u,f=t.keyCode,m=i(e.selection.getNode());if(e.selection.isCollapsed()){if(n){if(a.default.keyPressed(f).is([o.BACKSPACE,o.DELETE]))return d(n),void t.preventDefault();if(a.default.keyPressed(f).is([o.RIGHT,o.DOWN]))return e.selection.setCursorLocation(n.nextSibling||n.parentNode.nextElementSibling,0),l(),void t.preventDefault();if(m&&a.default.keyPressed(f).is([o.ENTER]))return void t.preventDefault()}a.default.keyPressed(f).is([o.BACKSPACE,o.DELETE,o.RIGHT,o.DOWN,o.LEFT,o.UP])&&((s=e.selection.getRng()).startOffset===s.startContainer.length&&a.default.keyPressed(f).is(o.RIGHT)?u=s.startContainer.nextSibling||s.startContainer.nextElementSibling:0===s.startOffset&&a.default.keyPressed(f).is([o.LEFT,o.BACKSPACE])&&(u=s.startContainer.previousSibling||s.startContainer.previousElementSibling),u&&r(u)?f===o.BACKSPACE?d(u):c(u):l())}}),e.on("keyup",function(){var t;e.selection.isCollapsed()&&r(t=e.selection.getNode())&&n!==t&&c(t)}),{addBlockyBlock:function(e){t(e).addClass("js-blockyBlock blockyBlock")},selectBlockyBlock:c}}},3127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.getElement().getAttribute("placeholder"),o=t.getContentAreaContainer();tinymce.DOM.setStyle(o,"position","relative"),this.element=tinymce.DOM.add(o,"div",{style:{position:"absolute",top:"5px",left:0,color:"#888",overflow:"hidden","pointer-events":"none","white-space":"pre-wrap",padding:"20px 10px",width:"85%"}},n)}return o(e,[{key:"hide",value:function(){tinymce.DOM.setStyle(this.element,"display","none")}},{key:"show",value:function(){tinymce.DOM.setStyle(this.element,"display","")}}]),e}();t.default=function(e){e.on("init",function(){var t=new i(e);function n(){1==!e.settings.readonly&&t.hide(),e.execCommand("mceFocus",!1)}function o(){""===e.getContent()?t.show():t.hide()}tinymce.DOM.bind(t.elelement,"click",n),e.on("focus",n),e.on("blur",o),e.on("change",o),e.on("setContent",o),e.on("keydown",function(){t.hide()}),e.on("keyup",o),o()})}},330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BREAK:3,BACKSPACE_DELETE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESCAPE:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,SELECT:41,PRINT:42,EXECUTE:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,NUMBER0:48,NUMBER1:49,NUMBER2:50,NUMBER3:51,NUMBER4:52,NUMBER5:53,NUMBER6:54,NUMBER7:55,NUMBER8:56,NUMBER9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,WINDOWS_KEY_LEFT_CMD:91,WINDOWS_KEY_RIGHT:92,WINDOWS_KEY_RIGHT_CMD:93,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,NUM_LOCK:144,SCROLL_LOCK:145,TOGGLE_MUTE:173,DECREASE_VOLUME:174,INCREASE_VOLUME:175,FIREBOXTOGGLE_MUTE:181,FIREFOXDECREASE_VOLUME:182,FIREFOXINCREASE_VOLUME:183,SEMI_COLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,SINGLE_QUOTE:222,FIREFOX_CMD:224,ALTGR:225,TOGGLE_TOUCHPAD:255}},343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0;var o=E(n(2)),i=E(n(2010)),a=E(n(338)),r=E(n(18)),l=E(n(47)),c=E(n(2011)),d=E(n(2013)),s=E(n(2015)),u=E(n(2024)),f=E(n(2088)),m=E(n(2095)),g=E(n(3115)),v=E(n(3116)),h=E(n(3124)),p=E(n(3125)),_=E(n(3126)),y=E(n(3127));function E(e){return e&&e.__esModule?e:{default:e}}function C(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var b=["h1","h2","h3","h4","h5","h6"];var N=t.defaultOptions={statusbar:!1,menubar:!1,plugins:"autoresize link textcolor paste -claireEmoticons -claireImages",toolbar:"styleselect | fontsizeselect | bold italic forecolor | bullist numlist |link | claireEmoticons | claireImage",theme_url:"/js/tinymce/themes/modern/theme.js",skin_url:"/tinymce/skins/oc-lightgray",autoresize_min_height:280,browser_spellcheck:!0,paste_block_drop:!0,paste_postprocess:function(e,t){var n=t.target.settings.block_formats,o=[];n?o=n.split(";").map(function(e){return e.split("=")[1]}).filter(function(e){return b.includes(e)}):o=b;var i=[].concat(C(t.node.querySelectorAll("[id],[data-claire-element-id]"))),a=[].concat(C(t.node.querySelectorAll("[class]"))),r=[].concat(C(t.node.querySelectorAll("[data-math]"))),l=[].concat(C(t.node.querySelectorAll(".smilies"))),c=[].concat(C(t.node.querySelectorAll("section,div:not([data-claire-semantic])"))),d=[].concat(C(t.node.querySelectorAll("iframe"))),s=[].concat(C(t.node.querySelectorAll("[style],[data-mce-style]"))),u=[].concat(C(t.node.querySelectorAll(b.join(","))));i.forEach(function(e){e.removeAttribute("data-claire-element-id"),e.removeAttribute("id")}),function(e){e.forEach(function(e){e.removeAttribute("style"),e.removeAttribute("data-mce-style")})}(s),function(e){e.forEach(function(e){var t=e.parentNode,n=e.getAttribute("data-math");try{var o=JSON.parse(n),i=document.createElement("math");i.innerHTML=o.latex,t.insertBefore(i,e),t.removeChild(e)}catch(e){}})}(r),function(e){e.forEach(function(e){var t=e.parentNode,n=e.getAttribute("alt");t.insertBefore(document.createTextNode(n),e),t.removeChild(e)})}(l),function(e){e.forEach(function(e){e.removeAttribute("class")})}(a),function(e){e.forEach(function(e){var t=e.parentNode;if(t){for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}})}(c),function(e){e.forEach(function(e){var t=document.createElement("video"),n=e.parentNode;t.src=e.src,n.insertBefore(t,e),n.removeChild(e)})}(d),function(e,t){var n=b.indexOf(e[0]),o=b.indexOf(e[e.length-1]);t.forEach(function(t){var i=t.tagName.toLowerCase();if(!e.includes(i)){var a=void 0;if(e.length){var r=b.indexOf(i);a=b[r<n?n:o]}else a="p";var l=document.createElement(a);l.innerHTML=t.innerHTML,t.parentNode.replaceChild(l,t)}})}(o,u)},image_noresizing:!0,target_list:!1,relative_urls:!1,convert_urls:!0,custom_elements:"pre,code",extended_valid_elements:"*[id,data-claire-element-id,data-claire-semantic],math"};"fr"===r.default.getActiveLang()&&(N.language_url="/js/vendors/tinymce/langs/fr_FR.js");var A={},M=void 0;A.addWysiwygToElement=function(e,t){var n=o.default.Deferred(),i=(0,o.default)(e),a=i.uniqueId().attr("id");return t=o.default.extend({},N,t||{}),function(e){var t;e.css({width:e.width(),position:"absolute",left:-999999999}),t=(0,o.default)('<div><i style="opacity:0.4;" class="icon-spinner icon-spin"></i>&nbsp;'+r.default._("global.word.loading")+"</div>").insertAfter(e),e.data("$loader",t)}(i),A.load().done(function(){t.selector="#"+a,t.setup=function(e){e.on("init",function(){!function(e){e.data("$loader").remove(),e.css({width:"",position:"relative",left:0})}(i),i.data("tinymceInstance",e),n.resolve(e)})};var e=window.setInterval(function(){(0,o.default)(t.selector).is(":visible")&&(window.clearInterval(e),tinymce.init(t))},100)}),n},A.isElementInited=function(e){var t=void 0;try{t=this.getInstance(e)}catch(e){return!1}return!!t},A.getInstance=function(e){var t=(0,o.default)(e).data("tinymceInstance");return t||a.default.throwException(i.default.NOT_A_TINYMCE_ELEMENT_EXCEPTION),t},A.destroy=function(e){var t=(0,o.default)(e).data("tinymceInstance");t||a.default.throwException(i.default.NOT_A_TINYMCE_ELEMENT_EXCEPTION),tinymce.EditorManager.execCommand("mceRemoveEditor",!0,t.id)},A.setContent=function(e,t,n){A.getInstance(e).setContent(t,n||{})},A.getContent=function(e,t){return A.getInstance(e).getContent(t||{})},A.execCommand=function(e,t,n){A.getInstance(e).execCommand(t,n,null,{skip_focus:!0})},A.getToolbar=function(e){return(0,o.default)(".mce-toolbar-grp",e).first()},A.load=function(){return M||(M=o.default.ajax({dataType:"script",cache:!0,url:l.default.getVersionned("/js/tinymce.js")}).done(function(){!function(e){e.PluginManager.add("claireEmoticons",c.default),e.PluginManager.add("claireImages",d.default),e.PluginManager.add("claireFormats",s.default),e.PluginManager.add("claireVideo",u.default),e.PluginManager.add("claireCode",f.default),e.PluginManager.add("customContentLink",m.default),e.PluginManager.add("claireMath",v.default),e.PluginManager.add("claireOffline",g.default),e.PluginManager.add("blockyBlock",_.default),e.PluginManager.add("claireSave",h.default),e.PluginManager.add("claireSanitize",p.default),e.PluginManager.add("placeholder",y.default)}(tinymce)})),M},t.default=A},344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCodeNode=r,t.trimNode=l,t.trimLeftNode=c,t.trimRightNode=d,t.selectCodeNode=s,t.unselectCodeNode=u,t.isInlinedCodeNode=f;var o=t.UNBREAKABLE_SPACE=String.fromCharCode(160),i=new RegExp("^("+o+"+)","g"),a=new RegExp("("+o+"+)$","g");function r(e){return e&&"code"===e.tagName.toLowerCase()}function l(e){return e.nodeValue.trim()}function c(e){return e.nodeValue.replace(i,"")}function d(e){return e.nodeValue.replace(a,"")}function s(e,t){var n=e.dom.getParent(t,"pre");if(n){e.dom.addClass(n,"selected-code");var o=e.dom.getNext(n,function(){return!0});o&&e.selection.setCursorLocation(o,0)}}function u(e,t){t||(t=e.dom.select(".selected-code")),tinymce.isArray(t)||(t=[t]),tinymce.each(t,function(t){return e.dom.removeClass(t,"selected-code")})}function f(e,t){return r(t)&&!e.dom.getParent(t,"pre")}t.default={isCodeNode:r,trimLeftNode:c,trimNode:l,trimRightNode:d,selectCodeNode:s,unselectCodeNode:u,isInlinedCodeNode:f}},362:function(e){e.exports={ace:{iframe:{url:"/js/oc/packages/ace-iframe.js"}},tinymce:{url:{theme:{main:"/css/tinymce/themes/OC-1445012260108/main"}}}}},363:function(e,t,n){"use strict";e.exports={EVENT_EDITOR_ON_READY:"editor.ready",EVENT_EDITOR_INIT:"editor.init",EVENT_EDITOR_ESC:"editor.esc",EVENT_EDITOR_SUBMITTED:"editor.submit",EVENT_EDITOR_CONTENT_CHANGED:"editor.content.changed",EVENT_EDITOR_SET_LANGUAGE:"editor.set.language",EVENT_EDITOR_SET_INLINE_MODE:"editor.set.inlineMode",EVENT_EDITOR_FOCUS:"editor.focus"}},667:function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i={contentIndex:0,rangeOffset:0,tree:[],setSelectedNode:function(e){var t=e.selection.getRng(),n=e.selection.getStart();this.contentIndex=[].concat(o(n.childNodes)).indexOf(t.startContainer),this.rangeOffset=t.startOffset,!!e.dom.getParent(n,"[data-mce-bogus]")&&this.rangeOffset--,this.addNodeInTree(n)},addNodeInTree:function(e){var t=e.parentNode,n=[].concat(o(t.childNodes)).indexOf(e);this.tree.unshift(n),"BODY"!==t.tagName&&this.addNodeInTree(t)},moveToSelectedNode:function(e){var t=null,n=this.tree.reduce(function(e,n){return e?(t=e,e.childNodes[n]):null},e.getBody())||t;function o(){e.selection.setCursorLocation(t)}if(n)if(n.nodeType===Node.TEXT_NODE&&(n=t),this.contentIndex>-1)try{e.selection.setCursorLocation(n.childNodes[this.contentIndex],this.rangeOffset)}catch(e){o()}else o()},reset:function(){this.rangeOffset=0,this.contentIndex=0,this.tree=[]}},a={positionCaretOnElement:function(e){tinymce.activeEditor.selection.setCursorLocation(e)},moveCursor:function(e){this.positionCaretOnElement(e)},getItemByName:function(e,t){var n=this;return e&&e.items?e.items().toArray().reduce(function(e,o){return e||(o.name()===t?o:n.getItemByName(o,t))},null):null},keyPressed:function(e){return{is:function(t){return Array.isArray(t)||(t=[t]),t.indexOf(e)>-1},isNot:function(t){return Array.isArray(t)||(t=[t]),-1===t.indexOf(e)}}},setAnchorCaret:function(){var e=tinymce.activeEditor;i.setSelectedNode(e)},goToAnchorCaret:function(){var e=tinymce.activeEditor,t=window.document.activeElement.tagName;"BODY"===t||"IFRAME"===t?(e.focus(),i.moveToSelectedNode(e),i.reset()):i.reset()}};t.default=a}}]);
//# sourceMappingURL=default~commonOld~courseEdit~mcqEdit~mentorshipDashboard~p2pEdit.2ac7b338c62022df9b8b.js.map